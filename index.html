<!DOCTYPE html>
<html lang="en">
  <head>
    <title>eBibleLanguage</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="Styles.css" />
    <link rel="icon" href="cross_image.ico" />
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#003366" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="eBibleLanguage" />
    <link rel="apple-touch-icon" href="cross_image.png" />
    <link
      rel="apple-touch-startup-image"
      href="cross_image.png"
      media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
    />
  </head>
  <body>
    <div class="content">
      <nav>
        <p>
          <a href="index.html">Lessons</a> |
          <a href="About.html">About</a>
        </p>
      </nav>
      <h2>Fast Track</h2>
      <ul>
        <li>
          <a href="Memory/Alphabet.html">Alphabet</a>: The essential starting
          point.
        </li>
        <li>
          <a href="Memory/Particles.html">Particles</a>: Show logical
          relationships, emphasis, and attitude.
        </li>
        <li>
          <a href="Memory/FirstDeclension.html">First Declension</a> &amp;
          <a href="Memory/SecondDeclension.html">Second Declension</a>: Basic
          noun paradigms.
        </li>
        <li>
          <a href="Memory/Indicative.html">Indicative</a>: First verb mood, with
          6 tenses and 3 voices.
        </li>
        <li>
          <a href="Memory/Prepositions.html">Prepositions</a>: May govern 1â€“3
          cases, changing meaning.
        </li>
        <li>
          <a href="Memory/BasicPronouns.html">Basic Pronouns</a>: Personal and
          relative pronouns.
        </li>
        <li>
          <a href="Memory/ThirdDeclension.html">Third Declension</a>: Last major
          noun group.
        </li>
        <li>
          <a href="Memory/Adjectives.html">Adjectives</a> &amp;
          <a href="Memory/Adverbs.html">Adverbs</a>: Adjectives agree with
          nouns; adverbs modify verbs.
        </li>
        <li>
          <a href="Memory/Participles.html">Participles</a>: Verbal adjectives
          with tense and case forms.
        </li>
        <li>
          <a href="Memory/OtherPronouns.html">Other Pronouns</a>: Demonstrative,
          reflexive, reciprocal, interrogative, indefinite.
        </li>
        <li>
          <a href="Memory/Infinitives.html">Infinitives</a>: Verbal nouns with
          tense and case variations.
        </li>
        <li>
          <a href="Memory/Subjuntive.html">Subjunctive</a>,
          <a href="Memory/Imperative.html">Imperative</a>, &amp;
          <a href="Memory/Optative.html">Optative</a>: Remaining verb moods.
        </li>
      </ul>
    </div>

    <script src="script.js"></script>
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("./service-worker.js")
          .then((reg) => {
            console.log("Service Worker registered.", reg);

            // Force update check on each load
            reg.update();

            // Listen for updates to activate and then reload
            if (reg.waiting) {
              reg.waiting.postMessage({ type: "SKIP_WAITING" });
            }

            reg.addEventListener("updatefound", () => {
              const newWorker = reg.installing;
              newWorker.addEventListener("statechange", () => {
                if (
                  newWorker.state === "installed" &&
                  navigator.serviceWorker.controller
                ) {
                  console.log("New content available. Reloading...");
                  window.location.reload();
                }
              });
            });
          })
          .catch((err) =>
            console.error("Service Worker registration failed:", err)
          );

        // Listen for skipWaiting message
        let refreshing = false;
        navigator.serviceWorker.addEventListener("controllerchange", () => {
          if (!refreshing) {
            window.location.reload();
            refreshing = true;
          }
        });
      }
    </script>
  </body>
</html>
