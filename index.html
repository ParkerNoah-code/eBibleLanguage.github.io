<!DOCTYPE html>
<html lang="en">
  <head>
    <title>eBibleLanguage</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="Styles.css" />
    <link rel="icon" href="cross_image.ico" />
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#003366" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="eBibleLanguage" />
    <link rel="apple-touch-icon" href="cross_image.png" />
    <link
      rel="apple-touch-startup-image"
      href="cross_image.png"
      media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
    />
  </head>
  <body>
    <div class="content">
      <nav>
        <p>
          <a href="index.html">Lessons</a> |
          <a href="About.html">About</a>
        </p>
      </nav>
      <h2>Lessons</h2>

      <div id="lessons">
        <!-- JavaScript will populate lesson phases here -->
      </div>
    </div>

    <script>
      const lessonData = [
        {
          phase: "Phase 1: Greek Alphabet and Nominal Foundations",
          lessons: [
            {
              id: "lesson1",
              title: "Lesson 1 – Greek Alphabet",
              link: "Lessons/lesson1.html",
            },
            {
              id: "lesson2",
              title: "Lesson 2 – First Declension",
              link: "Lessons/lesson2.html",
            },
            {
              id: "lesson3",
              title: "Lesson 3 – Second Declension",
              link: "Lessons/lesson3.html",
            },
          ],
        },
        {
          phase: "Phase 2: Present and Imperfect Verb System",
          lessons: [
            {
              id: "lesson4",
              title: "Lesson 4 – Verb Basics",
              link: "Lessons/lesson4.html",
            },
            {
              id: "lesson5",
              title: "Lesson 5 – Present Active Indicative",
              link: "Lessons/lesson5.html",
            },
            {
              id: "lesson6",
              title: "Lesson 6 – Imperfect",
              link: "Lessons/lesson6.html",
            },
            {
              id: "lesson7",
              title: "Lesson 7 – Contract Verbs",
              link: "Lessons/lesson7.html",
            },
          ],
        },
        {
          phase: "Phase 3: Nominal Syntax and Pronouns",
          lessons: [
            {
              id: "lesson8",
              title: "Lesson 8 – Prepositions and Cases",
              link: "Lessons/lesson8.html",
            },
            {
              id: "lesson9",
              title: "Lesson 9 – Pronouns",
              link: "Lessons/lesson9.html",
            },
          ],
        },
        {
          phase: "Phase 4: Future and Aorist Verb System",
          lessons: [
            {
              id: "lesson10",
              title: "Lesson 10 – Future Tense",
              link: "Lessons/lesson10.html",
            },
            {
              id: "lesson11",
              title: "Lesson 11 – First Aorist",
              link: "Lessons/lesson11.html",
            },
            {
              id: "lesson12",
              title: "Lesson 12 – Second Aorist",
              link: "Lessons/lesson12.html",
            },
            {
              id: "lesson13",
              title: "Lesson 13 – Liquid Verbs",
              link: "Lessons/lesson13.html",
            },
          ],
        },
        {
          phase: "Phase 5: Advanced Noun and Verb Systems, Modifiers",
          lessons: [
            {
              id: "lesson14",
              title: "Lesson 14 – Third Declension Nouns",
              link: "Lessons/lesson14.html",
            },
            {
              id: "lesson15",
              title: "Lesson 15 – Perfect and Pluperfect",
              link: "Lessons/lesson15.html",
            },
            {
              id: "lesson16",
              title: "Lesson 16 – Adjectives and Adverbs",
              link: "Lessons/lesson16.html",
            },
          ],
        },
        {
          phase: "Phase 6: Participles – Verbal Adjectives",
          lessons: [
            {
              id: "lesson17",
              title: "Lesson 17 – Present Participles",
              link: "Lessons/lesson17.html",
            },
            {
              id: "lesson18",
              title: "Lesson 18 – Aorist Participles",
              link: "Lessons/lesson18.html",
            },
            {
              id: "lesson19",
              title: "Lesson 19 – Perfect Participles",
              link: "Lessons/lesson19.html",
            },
          ],
        },
        {
          phase: "Phase 7: Non-Indicative Verbs and Complex Syntax",
          lessons: [
            {
              id: "lesson20",
              title: "Lesson 20 – Other Pronouns",
              link: "Lessons/lesson20.html",
            },
            {
              id: "lesson21",
              title: "Lesson 21 – Infinitives",
              link: "Lessons/lesson21.html",
            },
            {
              id: "lesson22",
              title: "Lesson 22 – Subjunctives",
              link: "Lessons/lesson22.html",
            },
            {
              id: "lesson23",
              title: "Lesson 23 – Imperatives & Optatives",
              link: "Lessons/lesson23.html",
            },
            {
              id: "lesson24",
              title: "Lesson 24 – μι-Verbs",
              link: "Lessons/lesson24.html",
            },
          ],
        },
      ];

      function renderLessons() {
        const container = document.getElementById("lessons");

        lessonData.forEach((phase) => {
          const details = document.createElement("details");
          const summary = document.createElement("summary");
          summary.textContent = phase.phase;
          details.appendChild(summary);

          const ul = document.createElement("ul");

          phase.lessons.forEach((lesson) => {
            const li = document.createElement("li");

            const checkbox = document.createElement("input");
            checkbox.type = "checkbox";
            checkbox.id = lesson.id;
            checkbox.checked = localStorage.getItem(lesson.id) === "true";
            checkbox.addEventListener("change", () =>
              localStorage.setItem(lesson.id, checkbox.checked)
            );

            const label = document.createElement("label");
            label.htmlFor = lesson.id;
            label.innerHTML = `<a href="${lesson.link}">${lesson.title}</a>`;

            li.appendChild(checkbox);
            li.appendChild(label);
            ul.appendChild(li);
          });

          details.appendChild(ul);
          container.appendChild(details);
        });
      }

      renderLessons();

      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("./service-worker.js")
          .then((reg) => console.log("Service Worker registered.", reg))
          .catch((err) =>
            console.error("Service Worker registration failed:", err)
          );
      }
    </script>
  </body>
</html>
