<!DOCTYPE html>
<html lang="en">
  <head>
    <title>eBibleLanguage</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="Styles.css" />
    <link rel="icon" href="cross_image.ico" />
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#003366" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="eBibleLanguage" />
    <link rel="apple-touch-icon" href="cross_image.png" />
    <link
      rel="apple-touch-startup-image"
      href="cross_image.png"
      media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
    />
  </head>
  <body>
    <div class="content">
      <nav>
        <p>
          <a href="index.html">Lessons</a> |
          <a href="About.html">About</a>
        </p>
      </nav>
      <h2>Lessons</h2>

      <div id="lessons">
        <details>
          <summary>Phase 1: Greek Alphabet and Nominal Foundations</summary>
          <ul>
            <li>
              <input type="checkbox" id="lesson1" /><label for="lesson1"
                ><a href="Lessons/lesson1.html"
                  >Lesson 1 – Greek Alphabet</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson2" /><label for="lesson2"
                ><a href="Lessons/lesson2.html"
                  >Lesson 2 – First Declension</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson3" /><label for="lesson3"
                ><a href="Lessons/lesson3.html"
                  >Lesson 3 – Second Declension</a
                ></label
              >
            </li>
          </ul>
          <p>
            <a href="Practice/Memorize1.html">Memorize</a>;
            <a href="Practice/Practice1.html">Practice</a>;
            <a href="Practice/Commentary1.html">Commentary</a>
          </p>
        </details>

        <details>
          <summary>Phase 2: Present and Imperfect Verb System</summary>
          <ul>
            <li>
              <input type="checkbox" id="lesson4" /><label for="lesson4"
                ><a href="Lessons/lesson4.html"
                  >Lesson 4 – Verb Basics</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson5" /><label for="lesson5"
                ><a href="Lessons/lesson5.html"
                  >Lesson 5 – Present Active Indicative</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson6" /><label for="lesson6"
                ><a href="Lessons/lesson6.html">Lesson 6 – Imperfect</a></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson7" /><label for="lesson7"
                ><a href="Lessons/lesson7.html"
                  >Lesson 7 – Contract Verbs</a
                ></label
              >
            </li>
          </ul>
          <p>
            <a href="Practice/Memorize2.html">Memorize</a>;
            <a href="Practice/Practice2.html">Practice</a>;
            <a href="Practice/Commentary2.html">Commentary</a>
          </p>
        </details>

        <details>
          <summary>Phase 3: Nominal Syntax and Pronouns</summary>
          <ul>
            <li>
              <input type="checkbox" id="lesson8" /><label for="lesson8"
                ><a href="Lessons/lesson8.html"
                  >Lesson 8 – Prepositions and Cases</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson9" /><label for="lesson9"
                ><a href="Lessons/lesson9.html">Lesson 9 – Pronouns</a></label
              >
            </li>
          </ul>
        </details>

        <details>
          <summary>Phase 4: Future and Aorist Verb System</summary>
          <ul>
            <li>
              <input type="checkbox" id="lesson10" /><label for="lesson10"
                ><a href="Lessons/lesson10.html"
                  >Lesson 10 – Future Tense</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson11" /><label for="lesson11"
                ><a href="Lessons/lesson11.html"
                  >Lesson 11 – First Aorist</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson12" /><label for="lesson12"
                ><a href="Lessons/lesson12.html"
                  >Lesson 12 – Second Aorist</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson13" /><label for="lesson13"
                ><a href="Lessons/lesson13.html"
                  >Lesson 13 – Liquid Verbs</a
                ></label
              >
            </li>
          </ul>
        </details>

        <details>
          <summary>Phase 5: Advanced Noun and Verb Systems, Modifiers</summary>
          <ul>
            <li>
              <input type="checkbox" id="lesson14" /><label for="lesson14"
                ><a href="Lessons/lesson14.html"
                  >Lesson 14 – Third Declension Nouns</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson15" /><label for="lesson15"
                ><a href="Lessons/lesson15.html"
                  >Lesson 15 – Perfect and Pluperfect</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson16" /><label for="lesson16"
                ><a href="Lessons/lesson16.html"
                  >Lesson 16 – Adjectives and Adverbs</a
                ></label
              >
            </li>
          </ul>
        </details>

        <details>
          <summary>Phase 6: Participles – Verbal Adjectives</summary>
          <ul>
            <li>
              <input type="checkbox" id="lesson17" /><label for="lesson17"
                ><a href="Lessons/lesson17.html"
                  >Lesson 17 – Present Participles</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson18" /><label for="lesson18"
                ><a href="Lessons/lesson18.html"
                  >Lesson 18 – Aorist Participles</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson19" /><label for="lesson19"
                ><a href="Lessons/lesson19.html"
                  >Lesson 19 – Perfect Participles</a
                ></label
              >
            </li>
          </ul>
        </details>

        <details>
          <summary>Phase 7: Non-Indicative Verbs and Complex Syntax</summary>
          <ul>
            <li>
              <input type="checkbox" id="lesson20" /><label for="lesson20"
                ><a href="Lessons/lesson20.html"
                  >Lesson 20 – Other Pronouns</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson21" /><label for="lesson21"
                ><a href="Lessons/lesson21.html"
                  >Lesson 21 – Infinitives</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson22" /><label for="lesson22"
                ><a href="Lessons/lesson22.html"
                  >Lesson 22 – Subjunctives</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson23" /><label for="lesson23"
                ><a href="Lessons/lesson23.html"
                  >Lesson 23 – Imperatives & Optatives</a
                ></label
              >
            </li>
            <li>
              <input type="checkbox" id="lesson24" /><label for="lesson24"
                ><a href="Lessons/lesson24.html">Lesson 24 – μι-Verbs</a></label
              >
            </li>
          </ul>
        </details>
      </div>
    </div>

    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("./service-worker.js")
          .then((reg) => {
            console.log("Service Worker registered.", reg);

            // Force update check on each load
            reg.update();

            // Listen for updates to activate and then reload
            if (reg.waiting) {
              reg.waiting.postMessage({ type: "SKIP_WAITING" });
            }

            reg.addEventListener("updatefound", () => {
              const newWorker = reg.installing;
              newWorker.addEventListener("statechange", () => {
                if (
                  newWorker.state === "installed" &&
                  navigator.serviceWorker.controller
                ) {
                  console.log("New content available. Reloading...");
                  window.location.reload();
                }
              });
            });
          })
          .catch((err) =>
            console.error("Service Worker registration failed:", err)
          );

        // Listen for skipWaiting message
        let refreshing = false;
        navigator.serviceWorker.addEventListener("controllerchange", () => {
          if (!refreshing) {
            window.location.reload();
            refreshing = true;
          }
        });
      }
    </script>
  </body>
</html>
